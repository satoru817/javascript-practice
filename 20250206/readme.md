Let me create a challenging exercise that combines DOM manipulation and LocalStorage management. I'll design a shopping cart system with some advanced features.

課題: 上記の HTML をベースに、以下の機能を持つショッピングカートシステムを実装してください。

要件:

1. カートの状態を LocalStorage に保存し、ページをリロードしても内容を維持する
2. 各商品に対して以下の操作を実装:
   - 数量の増減（1 以上、最大 10 まで）
   - カートからの削除
   - 小計の自動計算
3. エラー処理:
   - 在庫制限（各商品最大 10 個まで）
   - 不正な数量入力の防止
4. アニメーション効果:
   - 商品追加時のフェードイン
   - 削除時のフェードアウト
5. カート全体の機能:
   - 合計金額のリアルタイム更新
   - カートのクリア機能
   - 購入処理（確認ダイアログ表示）

追加の課題（より難しい要件）:

1. 商品の在庫数を LocalStorage で管理
2. 数量変更時のデバウンス処理の実装
3. カート内商品の並び替え機能
4. 元に戻す（Undo）機能の実装

ヒント:

- カートの状態は配列オブジェクトとして LocalStorage に保存することができます
- アニメーションには CSS トランジションを使用できます
- エラー表示は一定時間後に自動的に消えるようにするとよいでしょう

これらの要件を実装するためには、DOM 操作、LocalStorage の使用、イベント処理、アニメーション制御など、複数の要素を組み合わせる必要があります。また、適切なエラーハンドリングとユーザー体験の考慮も重要です。

では、実装に挑戦してみてください！
