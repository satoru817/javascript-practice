**実装要件**

1. **商品追加機能**

   - 追加ボタンクリック時、入力値を検証
   - 商品カードを動的に生成（商品名、価格、在庫数を含む）
   - 価格は 3 桁区切りで表示（例: 1,000 円）
   - 在庫数が 0 の場合、stock-zero クラスを適用

2. **販売機能**

   - 販売ボタンクリックで在庫数を 1 減らす
   - 在庫数が 0 になると販売ボタンを無効化
   - 在庫更新時にアニメーション効果（例: 背景色の変更）

3. **商品削除機能**

   - 削除ボタンで該当商品をリストから削除
   - 確認ダイアログを表示

4. **検索機能**

   - 入力した文字列を含む商品のみ表示
   - 大文字小文字を区別しない

5. **ソート機能**

   - 価格で昇順/降順を切り替えソート
   - ソート状態を視覚的に表現（ボタンのスタイル変更）

6. **データ永続化**
   - ページリロード後もデータを保持（localStorage 使用）

**追加要件**

- イベントデリゲーションを適切に使用
- 入力値のバリデーション（空値、負の数値の防止）
- エラーメッセージ表示機能
- コードのモジュール化（クラスベースの実装が望ましい）
- パフォーマンス最適化

**ヒント**

- `Intl.NumberFormat` で数値のフォーマット
- `requestAnimationFrame` でアニメーション制御
- `localStorage` の更新タイミングに注意
- `MutationObserver` で DOM 変更を監視

この問題では、以下のスキルが試されます：

- 複雑な DOM 操作
- イベントハンドリング
- 状態管理
- パフォーマンス考慮
- データ永続化
